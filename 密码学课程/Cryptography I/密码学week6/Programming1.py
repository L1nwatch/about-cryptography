# -*- coding: utf-8 -*-
__author__ = '__L1n__w@tch'

import gmpy2

# 注意

def main():
    N = "17976931348623159077293051907890247336179769789423065727343008115" \
        "77326758055056206869853794492129829595855013875371640157101398586" \
        "47833778606925583497541085196591615128057575940752635007475935288" \
        "71082364994994077189561705436114947486504671101510156394068052754" \
        "0071584560878577663743040086340742855278549092581"
    p, q = factor(N)
    print("p = {0}\nq = {1}".format(p, q))


def factor(N):
    N = gmpy2.mpz(N)
    A = gmpy2.isqrt(N) + 1  # 这里得用isqrt,用sqrt的话返回的是一个合理的mpfr值
    x = gmpy2.isqrt(A ** 2 - N)
    p = A - x
    q = A + x
    return p, q


if __name__ == "__main__":
    main()

